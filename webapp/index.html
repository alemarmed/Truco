<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>Lungo 2 - HTML5 Cross-Device Framework</title>
    <meta name="description" content="">
    <meta name="author" content="kamuisaeba@gmail.com">
    <meta name="author" content="martin.medina.alejandro@gmail.com">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no">
    <meta http-equiv="cleartype" content="on">

    <!-- iPhone -->
    <link href="http://lungo.tapquo.com/resources/icon-57.png" sizes="57x57" rel="apple-touch-icon">
    <link href="http://lungo.tapquo.com/resources/startup-image-320x460.png" media="(device-width: 320px) and (device-height: 480px)
    and (-webkit-device-pixel-ratio: 1)" rel="apple-touch-startup-image">

    <!-- iPhone (Retina) -->
    <link href="http://lungo.tapquo.com/resources/icon-114.png" sizes="114x114" rel="apple-touch-icon">
    <link href="http://lungo.tapquo.com/resources/startup-image-640x920.png" media="(device-width: 320px) and (device-height: 480px)
    and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image">

    <!-- iPhone 5 -->
    <link href="http://lungo.tapquo.com/resources/startup-image-640x1096.png" media="(device-width: 320px) and (device-height: 568px)
    and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image">

    <!-- iPad -->
    <link href="http://lungo.tapquo.com/resources/icon-72.png" sizes="72x72" rel="apple-touch-icon">
    <link href="http://lungo.tapquo.com/resources/startup-image-768x1004.png" media="(device-width: 768px) and (device-height: 1024px)
    and (orientation: portrait)
    and (-webkit-device-pixel-ratio: 1)" rel="apple-touch-startup-image">
    <link href="http://lungo.tapquo.com/resources/startup-image-748x1024.png" media="(device-width: 768px) and (device-height: 1024px)
    and (orientation: landscape)
    and (-webkit-device-pixel-ratio: 1)" rel="apple-touch-startup-image">

    <!-- iPad (Retina) -->
    <link href="http://lungo.tapquo.com/resources/icon-144.png" sizes="144x144" rel="apple-touch-icon">
    <link href="http://lungo.tapquo.com/resources/startup-image-1536x2008.png" media="(device-width: 768px) and (device-height: 1024px)
    and (orientation: portrait)
    and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image">
    <link href="http://lungo.tapquo.com/resources/startup-image-1496x2048.png" media="(device-width: 768px) and (device-height: 1024px)
    and (orientation: landscape)
    and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image">

    <!-- Lungo - Stylesheets -->
    <link rel="stylesheet" href="components/lungo/lungo.css">
    <link rel="stylesheet" href="components/lungo/lungo.icon.css">
    <link rel="stylesheet" href="components/lungo/lungo.icon.brand.css">
    <link rel="stylesheet" href="components/lungo/lungo.theme.default.css">
</head>

<body class="app">
<section id="splash" data-transition="slide">
    <article class="indented splash">
            <img src="components/static/truco.png">
        <form class="rounded">
            <input type="text" placeholder="Your username" id="txt_username" value="">
            <input type="password" placeholder="Your password" id="txt_password" value="">
            <a href="#list" data-router="section" class="button blue big" data-icon="checkmark" data-icon="user">Login</a>
            <a href="#register" data-router="section" class="button big" data-icon="left">Register</a>
        </form>
    </article> 
</section>

<!-- i18n support -->
<script src="components/i18n/i18next-1.6.0.js"></script>

<!-- Lungo - Dependencies -->
<script src="components/quojs/quo.js"></script>
<script src="components/lungo/lungo.js"></script>
<script src="components/monocle/monocle.js"></script>

<!-- Google map integration -->    
<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
<script src="components/lungo/sugars/GMap/lungo.sugar.gmap.js"></script>
<script src="components/lungo/sugars/GMap/lungo.sugar.gmap.interface.js"></script>
<script src="components/lungo/sugars/GMap/lungo.sugar.gmap.route.js"></script>

<!-- Lungo - Sandbox App -->
<script>
Lungo.init({
    name: 'TRuCo',
    verion: '0.0.1',
    resources :
    [
    'app/resources/asides/home_menu_big.html',
    'app/resources/asides/list_options_mini.html',
    'app/resources/asides/product_categories.html',
    'app/resources/sections/main.html', /* Secci贸n ppal de la aplicaci贸n.. pantalla inicio*/
    'app/resources/sections/list.html', /* Section para mostrar las listas actuales de la app*/
    'app/resources/sections/new_list.html', /* Section para mostrar las listas actuales de la app*/
    'app/resources/sections/list_detail.html',/*Section para controlar una lista concreta*/
    'app/resources/sections/product.html',/* Section formulario creaci贸n edici贸n de un producto de una lista determinada*/
    'app/resources/sections/product_list.html',/*Section para ver los productos de una lista dada */   
    'app/resources/sections/register.html', /* Seccion de registro*/  
    'app/resources/sections/settings.html',
    'app/resources/sections/about.html',
    'app/resources/sections/help.html',
    'app/resources/sections/map.html',
<<<<<<< HEAD


    'app/resources/sections/traduccion.html',
    ]
=======
    ],
>>>>>>> 753bc64b2c292cd4c108d6e9d1aa32ff130850e0
});
        var _from = { latitude: 37.185211, longitude: -3.59808 };
        var _to = { latitude: 37.185221, longitude: -3.59828 };
        var _mipos={latitude: 0, longitude: 0 };//mi posicion
        

$$('#show_map').tap(function(){
	
	
 Lungo.Sugar.GMap.init({
            el: '#map',
            zoom: 14,
            //type: 'HYBRID',
            center: _from
        });

var pinRed = {url: 'components/static/pushpin-red.png',
            size: {x: 32, y: 39},
            anchor: {x: 8, y: 34}
                }



Lungo.Sugar.GMap.addMarker(_from,pinRed,false);

geoposicion(_mipos[0],_mipos[1]);
 
});

var geoposicion = function (longitude,latitude){
        if (longitude && latitude){
            _mipos.latitude = latitude;
            _mipos.longitude = longitude;
        }
        else{
            if (navigator.geolocation) {
                    navigator.geolocation.getCurrentPosition(function(position) {
                        _mipos.latitude = position.coords.latitude;
                        _mipos.longitude = position.coords.longitude;
                        var pinBlue = {url: 'components/static/pushpin-blue.png',
									   size: {x: 32, y: 39},
									   anchor: {x: 8, y: 34}
						}
						Lungo.Sugar.GMap.addMarker(_mipos,pinBlue,false);
                    });
            }
            else {alert("Imposible Geolocalizar");}
        }
    };

$$('.father').tap(function()
{
    console.info(this); 
    if ($$(this).hasClass('active'))
    {
        console.info("Desactivando desplegable");
        $$(this).find('small span').removeClass('minus'); 
        $$(this).find('small span').addClass('plus'); 
    }
    else
    {
        console.info("Activando desplegable");
        $$(this).find('small span').removeClass('plus'); 
        $$(this).find('small span').addClass('minus');
    }
    $$(this).toggleClass('active');
    $$(this).toggleClass('dark');
    var current = this;
    var trick = false;
    $$('.acordion li').each(function(){
        if ($$(this).hasClass('father') && $$(this).hasClass('active')){
            trick=true;
        }else if ($$(this).hasClass('father')){
            trick = false;
        }
        else if ($$(this).hasClass('son') && trick){
            $$(this).hide();
        }
    });
});
</script>
<!-- Llamadas a las funciones coffeescript-->
<script src="app/monocle/Controller/build/listCtrl.js"></script>
<script src="app/monocle/Controller/build/newListCtrl.js"></script>
</body>
</html>
